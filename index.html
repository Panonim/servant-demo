<!DOCTYPE html>
<html lang="en">
<head>
  <script>
    // Enable demo mode by default - set to false or provide __API_BASE__ to use real Docker API
    window.__DEMO_MODE__ = true;
    
    (function() {
      var root = document.documentElement;
      root.classList.add('no-theme-transition');
      var prefersLight = false;
      try {
        prefersLight = typeof window.matchMedia === 'function'
          ? window.matchMedia('(prefers-color-scheme: light)').matches
          : false;
      } catch (err) {
        prefersLight = false;
      }
      try {
        var stored = localStorage.getItem('theme');
        var theme = stored || (prefersLight ? 'light' : 'dark');
        root.setAttribute('data-theme', theme);
      } catch (err) {
        root.setAttribute('data-theme', prefersLight ? 'light' : 'dark');
      }
    })();
  </script>
  <link rel="stylesheet" href="./styles.css" />
  <meta charset="utf-8" />
  <!-- Theme-aware favicons: ICOs by system theme; JS in script.js will also sync with user toggle -->
  <link rel="icon" href="./assets/favicon-dark.ico" media="(prefers-color-scheme: light)" sizes="any">
  <link rel="icon" href="./assets/favicon.ico" media="(prefers-color-scheme: dark)" sizes="any">
  <title>ServAnt</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body>
  <header>
    <div class="wrap titlebar" role="navigation" aria-label="Toolbar">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <h1>ServAnt</h1>
      </div>
      <div class="search-container">
        <input id="search" class="input" type="search" placeholder="Search name or imageâ€¦" aria-label="Search" />
      </div>
      <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Toggle menu">
        <div class="hamburger">
          <span></span>
          <span></span>
          <span></span>
        </div>
        <span class="mobile-menu-text">Menu</span>
      </button>
      <div class="controls">
        <select id="statusFilter" class="select" aria-label="Status filter">
          <option value="">All statuses</option>
          <option value="running">Running</option>
          <option value="exited">Exited</option>
          <option value="paused">Paused</option>
          <option value="created">Created</option>
          <option value="restarting">Restarting</option>
        </select>
        <select id="sortBy" class="select" aria-label="Sort by">
          <option value="name">Sort: Name</option>
          <option value="state">Sort: State</option>
          <option value="created">Sort: Created</option>
        </select>
        <button id="refresh" class="btn" aria-label="Refresh">
          <img src="./assets/refresh.svg" alt="Refresh" width="18" height="18">
        </button>
        <button id="togglePoll" class="btn" aria-label="Toggle auto refresh"><span>Auto: On</span></button>
        <button id="toggleTheme" class="btn" aria-label="Toggle color mode">
            <img src="./assets/moon.svg" alt="Toggle theme" width="18" height="18">
        </button>
        <a href="https://github.com/Panonim/servant" target="_blank" rel="noopener noreferrer" class="btn github-link" aria-label="View on GitHub">
            <img src="./assets/github-logo.svg" alt="GitHub" width="18" height="18">
        </a>
      </div>
      <div class="mobile-menu" id="mobileMenu">
        <select id="statusFilterMobile" class="select" aria-label="Status filter">
          <option value="">All statuses</option>
          <option value="running">Running</option>
          <option value="exited">Exited</option>
          <option value="paused">Paused</option>
          <option value="created">Created</option>
          <option value="restarting">Restarting</option>
        </select>
        <select id="sortByMobile" class="select" aria-label="Sort by">
          <option value="name">Sort: Name</option>
          <option value="state">Sort: State</option>
          <option value="created">Sort: Created</option>
        </select>
        <div class="mobile-menu-button-group">
          <button id="refreshMobile" class="btn" aria-label="Refresh">
            <img src="./assets/refresh.svg" alt="Refresh" width="18" height="18">
          </button>
          <button id="togglePollMobile" class="btn" aria-label="Toggle auto refresh"><span>Auto: On</span></button>
          <button id="toggleThemeMobile" class="btn" aria-label="Toggle color mode">
              <img src="./assets/moon.svg" alt="Toggle theme" width="18" height="18">
          </button>
          <a href="https://github.com/Panonim/servant" target="_blank" rel="noopener noreferrer" class="btn github-link" aria-label="View on GitHub">
              <img src="./assets/github-logo.svg" alt="GitHub" width="18" height="18">
          </a>
        </div>
      </div>
    </div>
  </header>


  <main>
    <div class="wrap">
      <section class="stats" aria-label="Summary">
        <div class="stat"><div class="label">Running</div><div class="value" id="statRunning">-</div></div>
        <div class="stat"><div class="label">Stopped</div><div class="value" id="statStopped">-</div></div>
        <div class="stat"><div class="label">Total</div><div class="value" id="statImages">-</div></div>
        <div class="stat"><div class="label">Updated</div><div class="value" id="statUpdated">-</div></div>
      </section>

      <section aria-label="Containers">
        <div id="list"></div>
        <div class="footer">
          <div>Tip: Click image to trace origin tag.</div>
          <div id="count">0 containers</div>
        </div>
      </section>
    </div>
  </main>
<script src="./script.js" defer></script>
</body>
</html>
